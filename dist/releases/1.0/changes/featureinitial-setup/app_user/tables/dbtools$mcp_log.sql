-- liquibase formatted sql
-- changeset APP_USER:1755218780107 stripComments:false  logicalFilePath:featureinitial-setup\app_user\tables\dbtools$mcp_log.sql runAlways:false runOnChange:false replaceIfExists:true failOnError:true
-- sqlcl_snapshot src/database/app_user/tables/dbtools$mcp_log.sql:null:db14027ff22e2ffbf40d0be1e834990b755f97b5:create

create table dbtools$mcp_log (
    id             number
        generated by default as identity
    not null enable,
    mcp_client     varchar2(200 byte) not null enable,
    model          varchar2(200 byte),
    end_point_type varchar2(12 byte),
    end_point_name varchar2(100 byte) not null enable,
    log_message    clob default null,
    created_on     timestamp(6) default current_timestamp not null enable,
    created_by     varchar2(100 byte) default user not null enable,
    updated_on     timestamp(6) default current_timestamp,
    updated_by     varchar2(100 byte) default user
);

alter table dbtools$mcp_log
    add
        check ( end_point_type in ( 'tool', 'prompt', 'resource', 'sample', 'root',
                                    'transport' ) ) enable;

alter table dbtools$mcp_log add primary key ( id )
    using index enable;

